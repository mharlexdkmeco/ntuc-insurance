(function (t) { var e = t.URL, i = t.SECTION, o = t.TYPE, n = t.TEXT; $(document).on("click", "a", function (s) { if (!$(this).closest(".list-parent.get-child").length) { var l = ""; l = $(this).closest("section.banner").length ? i.Banner : $(this).closest("section").length ? i.Body : $(this).closest("footer").length ? i.Footer : $(this).closest("header").length ? i.Menu : i.Body; var a = ""; a = $(this).closest("section.nat-banner").length ? o.Banner : $(this).closest("card-box").length ? o.Tiles : $(this).closest("card").length ? o.Tiles : $(this).hasClass("tile") ? o.Tiles : $(this).find("img").length ? $(this).find("img").hasClass("icn-app") ? o.Button : $(this).find("img").hasClass("icn-contact") ? o.TextLink : $(this).hasClass("sub-category") ? o.TextLink : o.ImageLink : $(this).find("button").length ? o.Button : $(this).hasClass("btn") ? o.Button : o.TextLink; var r = ""; $(this).closest(".list-parent.active").length ? $(this).closest(".list-parent.active").find(".view-more").length && (r = $(this).closest(".list-parent.active").find(".view-more").find("p").text()) : $(this).closest(".spmenu-child.active").length && $(this).closest(".spmenu-child.active").find(".title").length && (r = $(this).closest(".spmenu-child.active").find(".title").text()); var c, f = ""; if ("" == (f = r ? r + "-" + n.getLinkName($(this)) : n.getLinkName($(this))) && ($(this).find(".fa-instagram").length ? (f = "Instagram", a = o.ImageLink) : $(this).find(".fa-facebook-f").length ? (f = "Facebook", a = o.ImageLink) : $(this).find(".fa-linkedin-in").length ? (f = "LinkedIn", a = o.ImageLink) : $(this).find(".fa-google-plus-g").length ? (f = "Google+", a = o.ImageLink) : $(this).find(".fa-youtube").length && (f = "YouTube", a = o.ImageLink)), $(this).attr("onclick")) $(this).attr("onclick").indexOf("set_active") > -1 && (c = window.location.href); else c = $(this).attr("href") ? e.getLinkURL($(this)) : window.location.href; var h = { url: c, section: l, type: a, text: f }; t.pleasePushToGA(h) } }) })(Income.Tagging), function (t) { t.URL, t.SECTION, t.TYPE, t.TEXT; $(document).on("click", '.social-media-sharing div[class*="share"]', function () { var e = ""; $(this).is("[class^=copy]") ? e = "Copy" : $(this).is("[class^=facebook]") ? e = "Facebook" : $(this).is("[class^=twitter]") && (e = "Twitter"); var i = { url: window.location.href, section: "Body", type: "Button", text: e }; t.pleasePushToGA(i) }) }(Income.Tagging), function (t) { t.URL, t.SECTION, t.TYPE, t.TEXT; $(document).on("click", ".option-bordered", function (e) { var i = $(this).find(".custom-control-label").text(), o = { url: window.location.href, section: "Body", type: "Button", text: i }; $(this).closest(".hnw-calculator").hasClass("hnw-calculator") ? (formName = "HomeNetWorthCalculator", labelName = $(this).closest(".form-group").find(".label-title").text(), fieldInput = i, t.pushToGAForInputForm(labelName, formName, fieldInput)) : $(this).closest(".hnw-mini-calculator").hasClass("hnw-mini-calculator") ? (formName = "HomeNetWorthMiniCalculator", labelName = $(this).closest(".form-group").find(".label-title").text(), fieldInput = i, t.pushToGAForInputForm(labelName, formName, fieldInput)) : t.pleasePushToGA(o) }) }(Income.Tagging), function (t) { var e = t.URL, i = t.SECTION, o = t.TYPE, n = t.TEXT; $(document).on("click", "button", function (s) { if ($(this).closest("a").length); else { var l = ""; l = $(this).closest("form").length ? $(this).closest(".hnw-calculator").hasClass("hnw-calculator") ? i.Body : i.Form : $(this).closest("section.banner").length ? i.Banner : $(this).closest("section").length ? i.Body : $(this).closest("footer").length ? i.Footer : $(this).closest("header").length ? i.Menu : i.Body; var a = ""; a = $(this).closest("section.nat-banner").length ? o.Banner : $(this).find("img").length ? o.ImageLink : ($(this).hasClass("btn"), o.Button); var r = n.getLinkName($(this)), c = { url: e.getCurrentURL(), section: l, type: a, text: r }; t.pleasePushToGA(c) } }) }(Income.Tagging), function (t) { t.URL, t.SECTION, t.TYPE, t.TEXT; $(document).on("click", ".cus-select .dropdown-menu .scroll p", function () { if ($(this).closest("form").length); else { var e = $(this).text(); if (e) { var i = ""; i = $(this).closest("section.banner").length ? "Banner" : $(this).closest("section").length ? "Body" : $(this).closest("footer").length ? "Footer" : $(this).closest("header").length ? "Menu" : "Body"; var o = { url: window.location.href, section: i, type: "Dropdown", text: e }; t.pleasePushToGA(o) } } }) }(Income.Tagging), function (t) { t.URL, t.SECTION, t.TYPE, t.TEXT; $(document).on("click", ".faq-collapse .toggle-arrow", function () { var e = $(this).find(".faq-txt").text(); if (e) { var i = ""; i = $(this).closest("section.banner").length ? "Banner" : $(this).closest("section").length ? "Body" : $(this).closest("footer").length ? "Footer" : $(this).closest("header").length ? "Menu" : "Body"; var o = { url: window.location.href, section: i, type: "Accordion", text: e }; t.pleasePushToGA(o) } }) }(Income.Tagging), function (t) { t.URL, t.SECTION, t.TYPE, t.TEXT; $(document).on("click", ".acc-table .handler, .acc-list .info-title", function () { var e = ""; if ($(this).find("i").length ? e = $(this).find("i").text() : $(this).find("p").length && (e = $(this).find("p").text()), e) { var i = ""; i = $(this).closest("section.banner").length ? "Banner" : $(this).closest("section").length ? "Body" : $(this).closest("footer").length ? "Footer" : $(this).closest("header").length ? "Menu" : "Body"; var o = { url: window.location.href, section: i, type: "Accordion", text: e }; t.pleasePushToGA(o) } }) }(Income.Tagging), function (t) { t.URL, t.SECTION, t.TYPE, t.TEXT; $(document).on("click", ".insur-content", function () { var e = $(this).find(".content-text h4").text(); if (e) { var i = ""; i = $(this).closest("section.banner").length ? "Banner" : $(this).closest("section").length ? "Body" : $(this).closest("footer").length ? "Footer" : $(this).closest("header").length ? "Menu" : "Body"; var o = { url: window.location.href, section: i, type: "Video", text: e }; t.pleasePushToGA(o) } }) }(Income.Tagging), function (t) { t.URL, t.SECTION, t.TYPE, t.TEXT; $(document).on("click", ".collapse-all", function () { var e = ""; if (e = $(this).closest("section.banner").length ? "Banner" : $(this).closest("section").length ? "Body" : $(this).closest("footer").length ? "Footer" : $(this).closest("header").length ? "Menu" : "Body", $(this).hasClass("active")) { var i = { url: window.location.href, section: e, type: "Accordion", text: "Expand all" }; t.pleasePushToGA(i) } else { i = { url: window.location.href, section: e, type: "Accordion", text: "Collapse all" }; t.pleasePushToGA(i) } }) }(Income.Tagging), function (t) { t.URL; var e = t.SECTION, i = t.TYPE, o = t.TEXT; $(document).on("click", ".list-parent.get-child", function (n) { var s = ""; s = $(this).closest("section.banner").length ? e.Banner : $(this).closest("section").length ? e.Body : $(this).closest("footer").length ? e.Footer : $(this).closest("header").length ? e.Menu : "Body"; var l = "Text Link", a = ""; $(this).closest(".list-parent.active").length ? $(this).closest(".list-parent.active").find(".view-more").length && (a = $(this).closest(".list-parent.active").find(".view-more").find("p").text()) : $(this).closest(".spmenu-child.active").length && $(this).closest(".spmenu-child.active").find(".title").length && (a = $(this).closest(".spmenu-child.active").find(".title").text()); var r = ""; "" == (r = a ? a + "-" + o.getLinkName($(this)) : o.getLinkName($(this))) && ($(this).find(".fa-instagram").length ? (r = "Instagram", l = i.ImageLink) : $(this).find(".fa-facebook-f").length ? (r = "Facebook", l = i.ImageLink) : $(this).find(".fa-linkedin-in").length ? (r = "LinkedIn", l = i.ImageLink) : $(this).find(".fa-google-plus-g").length ? (r = "Google+", l = i.ImageLink) : $(this).find(".fa-youtube").length && (r = "YouTube", l = i.ImageLink)); var c = { url: $(this).find("a").attr("href"), section: s, type: l, text: r }; t.pleasePushToGA(c) }) }(Income.Tagging), function (t) { t.URL, t.SECTION, t.TYPE, t.TEXT; $(document).on("click", ".git-select-opt .cus-select .dropdown-menu .scroll p", function () { var e = ""; $(this).data("value") && ($(this).closest(".enquiry-div").length && $(this).closest(".enquiry-div").find("form").length && (e = $(this).closest(".enquiry-div").find("form").attr("name")), t.pushToGAForForm("Main topic", e)) }) }(Income.Tagging), function (t) { t.URL, t.SECTION, t.TYPE, t.TEXT; $(document).on("click", ".minus, .plus", function () { var e = $(this).attr("data-quantity").charAt(0).toUpperCase() + $(this).attr("data-quantity").substr(1).toLowerCase(), i = $(this).closest(".form-wrap").find("input").val(), o = { url: window.location.href, section: "Body", type: "Button", text: e }; $(this).closest(".hnw-calculator").hasClass("hnw-calculator") ? (formName = "HomeNetWorthCalculator", labelName = $(this).closest(".form-group").find(".label-title").text(), fieldInput = i, t.pushToGAForInputForm(labelName, formName, fieldInput)) : t.pleasePushToGA(o) }) }(Income.Tagging), $(document).ready(function () { function t(t, e) { t = t.replace(/[\[]/, "\\[").replace(/[\]]/, "\\]"); var i = new RegExp("[\\?&]" + t + "=([^&#]*)").exec(e); return null === i ? "" : decodeURIComponent(i[1].replace(/\+/g, " ")) } (function (e) { e.URL, e.SECTION, e.TYPE, e.TEXT; $("form").each(function () { var o = $(this); o.find(".cus-select .dropdown-menu .scroll p").on("click", function () { var n = $(this).data("value"), s = "Sub-topic", l = ""; let a = []; var r, c = $(this).attr("id"); if (n) { if (!(l = o.attr("name"))) { var f = o.attr("action"), h = o.attr("id"); if (f) l = t("formName", f); else if (h) { l = h.split("-")[1] } else l = h } if ((a = o.closest("form").find(".form-field").find(".ga-form-tagging-field-input").length ? (a = o.closest("form").find(".form-field").find(".ga-form-tagging-field-input").attr("value").split(",")).map(t => t.trim()) : []).length > 0) for (i = 0; i < a.length; i++)1 == c.includes(a[i]) && (r = !0); $(this).closest(".hnw-calculator").hasClass("hnw-calculator") ? (n = $(this).text(), fieldInput = n, l = "HomeNetWorthCalculator", s = $(this).closest(".building-coverage").hasClass("building-coverage") ? $(this).closest("form").find(".building-coverage-title .label-title").text() : $(this).closest(".form-group").find(".label-title").text(), e.pushToGAForInputForm(s, l, fieldInput)) : $(this).closest(".hnw-mini-calculator").hasClass("hnw-mini-calculator") ? (n = $(this).text(), fieldInput = n, l = "HomeNetWorthMiniCalculator", s = "Property type", e.pushToGAForInputForm(s, l, fieldInput)) : 1 == r ? (fieldInput = n, e.pushToGAForInputForm(s, l, fieldInput)) : e.pushToGAForForm(s, l) } }), o.find("select").on("change", function () { var n = $(this).val(); let s = []; var l, a = $(this).attr("id"); if (n) { var r = o.attr("name"); if (!r) { var c = o.attr("action"), f = o.attr("id"); if (c) r = t("formName", c); else if (f) { r = f.split("-")[1] } else r = f } if ((s = o.closest("form").find(".form-field").find(".ga-form-tagging-field-input").length ? (s = o.closest("form").find(".form-field").find(".ga-form-tagging-field-input").attr("value").split(",")).map(t => t.trim()) : []).length > 0) for (i = 0; i < s.length; i++)1 == a.includes(s[i]) && (l = !0); var h = $(this).closest(".form-field").find("label").text(); 1 == l ? (fieldInput = n, e.pushToGAForInputForm(h, r, fieldInput)) : e.pushToGAForForm(h, r) } }) }), $(document).on("blur", 'form input:not(form input.cus-check-list, form input[type="submit"], .quiz-question form input, .hnw-mini-calculator form input)', function () { var o, n = $(this).closest("form"), s = $(this), l = "", a = ""; let r = [], c = []; var f, h, d, u, m, g = $(this).val(), p = $(this).attr("id"), T = $(this).closest(".form-field").find(".control-label").text(); if ("" != g) { if ("checkbox" == s.attr("type") ? l = (l = s.closest(".custome-checkbox-list").find("label").text()).replace("*", "") : "radio" == s.attr("type") ? l = (l = s.closest(".custom-radio").find("label").text()).replace("*", "") : s.closest(".form-group").length ? l = (l = s.closest(".form-group").find("label").text()).replace("*", "") : s.closest(".form-field").length && (l = s.closest(".form-field").find("label").text()), !(a = n.attr("name"))) { var v = n.attr("action"), b = n.attr("id"); if (v) a = t("formName", v); else if (b) { a = b.split("-")[1] } else a = b } if (s.closest("form").find(".form-field").find(".ga-form-tagging-field-input").length ? r = (r = s.closest("form").find(".form-field").find(".ga-form-tagging-field-input").attr("value").split(",")).map(t => t.trim()) : (r = [], c = []), s.closest("form").find(".form-field").find(".ga-form-tagging-lead-short-form-event").length ? c = (c = s.closest("form").find(".form-field").find(".ga-form-tagging-lead-short-form-event").attr("value").split(",")).map(t => t.trim()) : (r = [], c = []), r.length > 0) for (i = 0; i < r.length; i++)1 == p.includes(r[i]) && (f = !0); if (c.length > 0) for (i = 0; i < c.length; i++)1 != p.endsWith(c[i] + "_Value") && 1 != p.endsWith(c[i] + "_Email") && 1 != p.endsWith(c[i] + "_Number") || (!0 === p.endsWith("NRIC_Value") ? d = !0 : !0 === p.endsWith("EmailAddress_Value") || !0 === p.endsWith("EmailAddress_Email") ? u = !0 : !0 === p.endsWith("Mobile_Value") || !0 === p.endsWith("Mobile_Number") ? m = !0 : h = !0); var I = document.title.replace(" | NTUC Income", ""); n.closest(".hnw-calculator").hasClass("hnw-calculator") ? (a = "HomeNetWorthCalculator", l = T = $(this).closest(".building-coverage").hasClass("building-coverage") ? $(this).closest("form").find(".building-coverage-title .label-title").text() : $(this).closest(".form-group").find(".label-title").text(), fieldInput = g, e.pushToGAForInputForm(l, a, fieldInput)) : 1 == f && 1 == h ? (l = T, o = sha256(g), e.pushToGAForLeadForm(l, a, o, I)) : 1 == h ? (l = T, o = sha256(g.toUpperCase()), e.pushToGAForLeadForm(l, a, o, I)) : 1 == d ? (l = T, o = sha256(g.toUpperCase()), e.pushToGAForNRICLeadForm(a, o, I)) : 1 == u ? (l = T, o = sha256(g.toUpperCase()), e.pushToGAForEmailLeadForm(a, o, I)) : 1 == m ? (l = T, o = sha256(g.toUpperCase()), e.pushToGAForPhoneLeadForm(a, o, I)) : 1 == f ? (l = T, fieldInput = g, e.pushToGAForInputForm(l, a, fieldInput)) : (l = T, e.pushToGAForForm(l, a)) } }), $(document).on("blur", "form textarea", function () { var o, n = $(this).closest("form"), s = $(this), l = "", a = ""; let r = [], c = []; var f, h, d, u, m, g = $(this).val(), p = $(this).attr("id"), T = $(this).closest(".form-field").find(".control-label").text(); if ("" != g) { if ("checkbox" == s.attr("type") ? l = (l = s.closest(".custome-checkbox-list").find("label").text()).replace("*", "") : "radio" == s.attr("type") ? l = (l = s.closest(".custom-radio").find("label").text()).replace("*", "") : s.closest(".form-group").length ? l = (l = s.closest(".form-group").find("label").text()).replace("*", "") : s.closest(".form-field").length && (l = s.closest(".form-field").find("label").text()), !(a = n.attr("name"))) { var v = n.attr("action"), b = n.attr("id"); if (v) a = t("formName", v); else if (b) { a = b.split("-")[1] } else a = b } if (s.closest("form").find(".form-field").find(".ga-form-tagging-field-input").length ? r = (r = s.closest("form").find(".form-field").find(".ga-form-tagging-field-input").attr("value").split(",")).map(t => t.trim()) : (r = [], c = []), s.closest("form").find(".form-field").find(".ga-form-tagging-lead-short-form-event").length ? c = (c = s.closest("form").find(".form-field").find(".ga-form-tagging-lead-short-form-event").attr("value").split(",")).map(t => t.trim()) : (r = [], c = []), r.length > 0) for (i = 0; i < r.length; i++)1 == p.includes(r[i]) && (f = !0); if (c.length > 0) for (i = 0; i < c.length; i++)1 != p.endsWith(c[i] + "_Value") && 1 != p.endsWith(c[i] + "_Email") && 1 != p.endsWith(c[i] + "_Number") || (!0 === p.endsWith("NRIC_Value") ? d = !0 : !0 === p.endsWith("EmailAddress_Value") || !0 === p.endsWith("EmailAddress_Email") ? u = !0 : !0 === p.endsWith("Mobile_Value") || !0 === p.endsWith("Mobile_Number") ? m = !0 : h = !0); var I = document.title.replace(" | NTUC Income", ""); 1 == f && 1 == h ? (l = T, o = sha256(g), e.pushToGAForLeadForm(l, a, o, I)) : 1 == h ? (l = T, o = sha256(g), e.pushToGAForLeadForm(l, a, o, I)) : 1 == d ? (l = T, o = sha256(g.toUpperCase()), e.pushToGAForNRICLeadForm(a, o, I)) : 1 == u ? (l = T, o = sha256(g.toUpperCase()), e.pushToGAForEmailLeadForm(a, o, I)) : 1 == m ? (l = T, o = sha256(g.toUpperCase()), e.pushToGAForPhoneLeadForm(a, o, I)) : 1 == f ? (l = T, fieldInput = g, e.pushToGAForInputForm(l, a, fieldInput)) : (l = T, e.pushToGAForForm(l, a)) } }), $(document).on("click", "form input.cus-check-list", function () { var o = $(this).closest("form"), n = $(this), s = "", l = ""; let a = []; var r, c = $(this).attr("value"), f = $(this).closest(".editing-form-control-nested-control").find(".custome_chk_list_field").attr("id"), h = $(this).closest(".form-field").find(".control-label").text(); if ("" != c) { if ("checkbox" == n.attr("type") ? s = (s = n.closest(".custome-checkbox-list").find("label").text()).replace("*", "") : "radio" == n.attr("type") ? s = (s = n.closest(".custom-radio").find("label").text()).replace("*", "") : n.closest(".form-group").length ? s = (s = n.closest(".form-group").find("label").text()).replace("*", "") : n.closest(".form-field").length && (s = n.closest(".form-field").find("label").text()), !(l = o.attr("name"))) { var d = o.attr("action"), u = o.attr("id"); if (d) l = t("formName", d); else if (u) { l = u.split("-")[1] } else l = u } if ((a = n.closest("form").find(".form-field").find(".ga-form-tagging-field-input").length ? (a = n.closest("form").find(".form-field").find(".ga-form-tagging-field-input").attr("value").split(",")).map(t => t.trim()) : []).length > 0) for (i = 0; i < a.length; i++)1 == f.includes(a[i]) && (r = !0); 1 == r ? (s = h, fieldInput = c, e.pushToGAForInputForm(s, l, fieldInput)) : (s = h, e.pushToGAForForm(s, l)) } }), $(document).on("click", 'form input[type="checkbox"]:not(form input.cus-check-list)', function () { var o = $(this).closest("form"), n = $(this), s = "", l = ""; let a = []; var r, c = $(this).closest(".ktc-checkbox").find("label").text(), f = $(this).attr("id"), h = $(this).closest(".form-field").find(".control-label").text(); if ("" != c) { if (!(l = o.attr("name"))) { var d = o.attr("action"), u = o.attr("id"); if (d) l = t("formName", d); else if (u) { l = u.split("-")[1] } else l = u } if ((a = n.closest("form").find(".form-field").find(".ga-form-tagging-field-input").length ? (a = n.closest("form").find(".form-field").find(".ga-form-tagging-field-input").attr("value").split(",")).map(t => t.trim()) : []).length > 0) for (i = 0; i < a.length; i++)1 == f.includes(a[i]) && (r = !0); 1 == r ? (s = h, fieldInput = c, e.pushToGAForInputForm(s, l, fieldInput)) : (s = h, e.pushToGAForForm(s, l)) } }), $(document).on("click", 'form input[type="radio"]:not(form input.cus-check-list)', function () { var o = $(this).closest("form"), n = $(this), s = "", l = ""; let a = []; var r, c = $(this).closest(".ktc-radio").find("label").text(), f = $(this).attr("id"), h = $(this).closest(".form-field").find(".control-label").text(); if ("" != c) { if (!(l = o.attr("name"))) { var d = o.attr("action"), u = o.attr("id"); if (d) l = t("formName", d); else if (u) { l = u.split("-")[1] } else l = u } if ((a = n.closest("form").find(".form-field").find(".ga-form-tagging-field-input").length ? (a = n.closest("form").find(".form-field").find(".ga-form-tagging-field-input").attr("value").split(",")).map(t => t.trim()) : []).length > 0) for (i = 0; i < a.length; i++)1 == f.includes(a[i]) && (r = !0); 1 == r ? (s = h, fieldInput = c, e.pushToGAForInputForm(s, l, fieldInput)) : (s = h, e.pushToGAForForm(s, l)) } else $(this).closest(".hnw-mini-calculator").hasClass("hnw-mini-calculator") && (l = "HomeNetWorthMiniCalculator", s = $(this).closest(".form-group").find("label:first").text(), fieldInput = $(this).closest(".custom-radio").find(".custom-control-label .step-name").text(), e.pushToGAForInputForm(s, l, fieldInput)) }), $(document).on("click", 'form input[type="submit"]', function () { var t = $(this).attr("value"), i = window.location.href; e.pushToGAForSubmitBtnForm(t, i) }) })(Income.Tagging), function (e) { e.URL, e.SECTION, e.TYPE, e.TEXT; $("form").on("submit", function () { var i = $(this).closest("form"), o = "", n = "", s = "", l = "", a = "", r = ""; if (i.find("input").each(function () { var t = $(this), e = ""; if (t.closest(".form-group").length ? e = (e = t.closest(".form-group").find("label").text().toLowerCase().trim()).replace("*", "") : t.closest(".form-field").length && (e = t.closest(".form-field").find("label").text().toLowerCase().trim()), e.indexOf("email") > -1) o = t.val(); else if ("nric" == e) a = t.val(); else if (e.indexOf("mobile") > -1) { var i = t.id; s = "telMobile" == i ? $("#telMobile").val() : t.val() } n = $("#telHome").val(), l = $("#telOffice").val() }), !(r = i.attr("name"))) { var c = i.attr("action"); r = t("formName", c) } o && (dataLayer.push({ url: window.location.href, section: "Form", type: "Button", text: $(this).text().trim() }), $.ajax({ url: "/hashing/hash", type: "POST", headers: { "Content-Type": "application/x-www-form-urlencoded" }, data: { email: o, homePhone: n, mobile: s, officePhone: l, nric: a }, success: function (t) { e.pushToGAForFormSubmit(r, t.hashNRIC, t.hashEmail, t.hashHomePhone, t.hashMobile, t.hashOfficePhone) } })) }) }(Income.Tagging) });
window.Income = window.Income || {}, Income.debug = !1, Income.Tagging = new function () { var e = this; this.trackWhat = "GA", this.gaTracker = ["incomecombined", "incomega", "incomeoldua"], this.gaTracKDefault = !0, this.URL = { getLinkURL: function (t) { return e.getLinkURL(t) }, getCurrentURL: function () { return e.getCurrentURL() } }, this.SECTION = { Menu: "Menu", Banner: "Banner", Body: "Body", Footer: "Footer", Form: "Form" }, this.TYPE = { Button: "Button", TextLink: "Text Link", ImageLink: "Image", Banner: "Banner", Tiles: "Tiles", Dropdown: "Dropdown" }, this.TEXT = { getLinkName: function (t) { return e.getLinkName(t) } }, this.pushToGAForPageView = function () { if ("undefined" != typeof pData) { var e = pData[0], t = pData[1], n = pData[2], a = pData[3], o = pData[4]; "Select" == e && (e = ""), "Select" == t && (t = ""), "Select" == n && (n = ""); var i = { event: "pageLoad" }; if ("" != e && (i.funnelStage = e), "" != t) { var r = (new DOMParser).parseFromString(t, "text/html").body.textContent; i.type = r } "" != n && (r = (new DOMParser).parseFromString(n, "text/html").body.textContent, i.product = r), "" != a && (i.segment = a), "" != o && (i.microSegment = o), "" == e && "" == t && "" == n && "" == a && "" == o || dataLayer.push(i) } }, this.pushToGAForFormSubmit = function (e, t, n, a, o, i) { if ("" != n) { var r = { event: "formSubmit", "Form Name": e }; "" != t && (r["Hashed NRIC"] = t), "" != n && (r["Hashed Email"] = n), "" != a && (r["Hashed Home Phone"] = a), "" != o && (r["Hashed Mobile"] = o), "" != i && (r["Hashed Office Phone"] = i), dataLayer.push(r) } }, this.pushToGAForForm = function (e, t) { var n = { event: "formField", formName: t, fields: e }; 0 == Income.debug && "undefined" != typeof dataLayer && dataLayer.push(n) }, this.pushToGAForInputForm = function (e, t, n) { var a = { event: "formField", formName: t, fields: e, fieldInput: n }; 0 == Income.debug && "undefined" != typeof dataLayer && dataLayer.push(a) }, this.pushToGAForLeadForm = function (e, t, n, a) { var o = { event: "LeadShortForm", fields: e, LeadHash: n, LeadForm: t, LeadSite: "Income – " + a }; 0 == Income.debug && "undefined" != typeof dataLayer && dataLayer.push(o) }, this.pushToGAForNRICLeadForm = function (e, t, n) { var a = { event: "LeadShortForm", LeadFieldName: "NRIC", LeadIDHash: t, LeadForm: e, LeadSite: "Income – " + n }; 0 == Income.debug && "undefined" != typeof dataLayer && dataLayer.push(a) }, this.pushToGAForEmailLeadForm = function (e, t, n) { var a = { event: "LeadShortForm", LeadFieldName: "Email", LeadEmailHash: t, LeadForm: e, LeadSite: "Income – " + n }; 0 == Income.debug && "undefined" != typeof dataLayer && dataLayer.push(a) }, this.pushToGAForPhoneLeadForm = function (e, t, n) { var a = { event: "LeadShortForm", LeadFieldName: "Phone", LeadPhoneHash: t, LeadForm: e, LeadSite: "Income – " + n }; 0 == Income.debug && "undefined" != typeof dataLayer && dataLayer.push(a) }, this.pushToGAForSubmitBtnForm = function (e, t) { var n = { event: "click", text: e, type: "Button", section: "Form", url: t }; 0 == Income.debug && "undefined" != typeof dataLayer && dataLayer.push(n) }, this.pushToGA = function (e, t, n, a) { if (!(e || t || n || a)) return !1; if (!e || !t || !n) return !1; var o = { event: "click", text: a, type: n, section: t, url: e }; 0 == Income.debug && "undefined" != typeof dataLayer && dataLayer.push(o) }, this.pleasePushToGA = function (e) { var t, n, a, o; Array.isArray(e) || void 0 !== e && null != e && (void 0 !== e.url && null != e.url && (t = e.url), void 0 !== e.section && null != e.section && (n = e.section), void 0 !== e.type && null != e.type && (a = e.type), void 0 !== e.text && null != e.text && (o = e.text)), this.pushToGA(t, n, a, o) }, this.getCurrentURL = function () { return window.location.href }, this.getCleanCurrentURL = function () { var e = window.location.href; return "string" == typeof e && (e.indexOf("#") > 0 && (e = e.split("#")[0]), e.indexOf("?") > 0 && (e = e.split("?")[0])), e }, this.getLinkURL = function (e) { return $(e).attr("href") }, this.cleanTheURL = function (e) { if (void 0 !== e) return "string" == typeof e && (e.indexOf("#") > 0 && (e = e.split("#")[0]), e.indexOf("?") > 0 && (e = e.split("?")[0])), e }, this.getLinkName = function (e) { return $(e).text().trim() }, window.isDesktop = window.isDesktop || function () { return !!window.matchMedia("(min-width: 992px)").matches } }, Income.Tagging.pushToGAForPageView();